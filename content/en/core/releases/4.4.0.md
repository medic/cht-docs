
---
title: "4.4.0 release notes"
linkTitle: "4.4.0"
weight:
description: >
relevantLinks: >
toc_hide: true
---

## Known issues

Check the repository for the [latest known issues](https://github.com/medic/cht-core/issues?q=is%3Aissue+label%3A%22Affects%3A+4.4.0%22).

## Upgrade notes

### Breaking changes

None.

### UI/UX changes

#### CHT dialogs.

CHT dialogs were updated to align with [Material guidelines](https://m3.material.io/components/dialogs/guidelines). This includes updating the visual design and text of dialogs to align with best practices.

{{< figure src="../images/4.4.0-8391-cht-dialogs.png" class="left col-12 col-lg-12" >}}
<br clear="all">

As part of this work, some translation keys changed. We have provided translations for all of the languages officially supported by CHT (English, Spanish, French, Indonesian, Hindi, Nepali, Bambara, Swahili). If you have a custom language and have any of these features, you will need to translate these in Admin app > Display > Translations tab.
- Bulk delete reports dialog
  - `bulkdelete.confirm.title`: used for the modal title when deleting one report
  - [NEW] `bulkdelete.confirm.title.plural`: used for the modal title when deleting multiple reports.
- Edit SMS message group dialog
  - [NEW] `edit_message_group.modal.title`: used for the modal title
- Report a bug dialog
  - [NEW] `feedback.modal.submit`: used for the modal submit button label.
- Navigation when form not saved dialog
  - [NEW] `confirm.destructive.navigation.title`: used for the modal title
  - [NEW] `confirm.destructive.navigation.submit`: used for the modal submit button label.
- Training cards dialog
  - [NEW] `training_cards.confirm.title`: used for the modal title
- Confirmation when verifying a report dialog
  - [NEW] `confirm.verification.title`: used for the modal title
  - [NEW] `confirm.verification.submit`: used for the modal submit button label.

- [#8390](https://github.com/medic/cht-core/issues/8390): Align "dialog" components with Material design guidelines


## Highlights

### Store purged docs cache in couchdb

Each user gets their own doc in a new database `medic-cache` to store purged document ids the database is destroyed (deleted and recreated) every time purging runs

### Can't turn off permissions for `national_admin` role in admin app.

Removes hardcoded conditions making national_admin role sometimes behave as CouchDb _admin.
Adds `national_admin` as role in default config for backwards compatibility.

### Features

None.

### Improvements

- [#6514](https://github.com/medic/cht-core/issues/6514): Migrate from SW-Precache to Workbox
- [#8179](https://github.com/medic/cht-core/issues/8179): nginx and haproxy should respect `Accept` headers when responding with error templates
- [#8390](https://github.com/medic/cht-core/issues/8390): Align "dialog" components with Material design guidelines
- [#8442](https://github.com/medic/cht-core/issues/8442): Telemetry geolocation:failure events for geolocation should be unique
- [#8498](https://github.com/medic/cht-core/issues/8498): Remove targets disable admin option
- [#8506](https://github.com/medic/cht-core/issues/8506): Update browser support notice to match official versions
- [#8511](https://github.com/medic/cht-core/issues/8511): Update configuration deployment action to use latest cht-conf

### Security fixes

- [#8443](https://github.com/medic/cht-core/issues/8443): Masking credentials

### Performance improvements

- [#8238](https://github.com/medic/cht-core/issues/8238): Figure out a different way to use purged docs cache
- [#8451](https://github.com/medic/cht-core/issues/8451): Add support for HTTP/2 in nginx 

### Bug fixes

- [#6180](https://github.com/medic/cht-core/issues/6180): Any text containing back ticks looks weird in the webapp
- [#8081](https://github.com/medic/cht-core/issues/8081): Add contact_type and place_id to contacts exported by `/api/v2/export/contacts`
- [#8243](https://github.com/medic/cht-core/issues/8243): Can't turn off permissions for `national_admin` role in admin app
- [#8490](https://github.com/medic/cht-core/issues/8490): API crashes when CouchDB is overloaded
- [#8527](https://github.com/medic/cht-core/issues/8527): Unable to build nginx with symlinks in some environments

### Technical improvements

- [#6132](https://github.com/medic/cht-core/issues/6132): Files containing tests should use the .spec.js extension
- [#6289](https://github.com/medic/cht-core/issues/6289): Upgrade to CouchDB v3
- [#8306](https://github.com/medic/cht-core/issues/8306): Replace grunt with npm scripts
- [#8414](https://github.com/medic/cht-core/issues/8414): Flaky test: sms-gateway api returns list and updates state
- [#8459](https://github.com/medic/cht-core/issues/8459): Update nginx to latest 
- [#8469](https://github.com/medic/cht-core/issues/8469): Scalability suite fails because Jmeter version no longer exists
- [#8494](https://github.com/medic/cht-core/issues/8494): Update lodash
- [#8516](https://github.com/medic/cht-core/issues/8516): Remove unused /api/auth/ endpoint
- [#8518](https://github.com/medic/cht-core/issues/8518): Encode parameters being used in credentials url
- [#8522](https://github.com/medic/cht-core/issues/8522): Flaky test: More Options Menu - Offline User all permissions disabled
- [#8524](https://github.com/medic/cht-core/issues/8524): Remove sub-scripts from package.json
- [#8533](https://github.com/medic/cht-core/issues/8533): Ignore unimportant step failures in CI build


