# 3.14.0 Release Notes

- [Known issues](#known-issues)
- [Upgrade notes](#upgrade-notes)
- [Breaking changes](#breaking-changes)
- [UI/UX changes](#uiux-changes)
- [Highlights](#highlights)
- [And more...](#and-more)

## Known issues

None.

## Upgrade notes

### Breaking changes

None.

### UI/UX changes

#### New dialog showing sync status

When an offline user manually triggers a sync via the hamburger menu, a notification dialog is opened indicating the status of the sync process.

Sync in progress:
![](../images/3.14.0-5207-current-sync.png)

Sync complete:
![](../images/3.14.0-5207-sync-done.png)

Sync failed (with retry option):
![](../images/3.14.0-5207-sync-failed.png)

- [#5207](https://github.com/medic/cht-core/issues/5207): Show dialog when user clicks "Sync Now" in hamburger menu

#### Updated icon for the Create Report button

The icon for the Create Report button has been updated so that its purpose is more clear.

Old Icon | New Icon
:-------------------------:|:-------------------------:
![](../images/3.14.0-6403-old.png)  |  ![](../images/3.14.0-6403-new.png)

- [#6403](https://github.com/medic/cht-core/issues/6403): Change the Create Report button icon to better indicate what it does

#### Display all dates in Bikram Sambat format when Nepali locale selected

For years, the CHT has supported recording the answers to `date` questions in forms using the [Bikram Sambat](https://en.wikipedia.org/wiki/Vikram_Samvat) calendar format when the user has selected the Nepali locale. However, the date values displayed throughout the app would still be shown in the [Gregorian](https://en.wikipedia.org/wiki/Gregorian_calendar) calendar format. 

Now the application has been updated to use the Bikram Sambat format to displaying dates (when the Nepali locale is selected) in places such as the contact summary.

![](../images/3.14.0-7294-contact-summary.png)


- [#7294](https://github.com/medic/cht-core/issues/7294): Use Bikram Sambat dates throughout the webapp when Nepali locale selected
- [#7409](https://github.com/medic/cht-core/issues/7409): Display tab's label in small screens


## Highlights

- [#7280](https://github.com/medic/cht-core/issues/7280): Server Side Purge does not complete to the end

## And more...

### Features

- [#7294](https://github.com/medic/cht-core/issues/7294): Use Bikram Sambat dates throughout the webapp when Nepali locale selected

### Improvements

- [#5207](https://github.com/medic/cht-core/issues/5207): Show dialog when user clicks "Sync Now" in hamburger
- [#6403](https://github.com/medic/cht-core/issues/6403): Change the Create Report button icon to better indicate what it does
- [#6674](https://github.com/medic/cht-core/issues/6674): Provide clear error message on missing xsltproc dependency
- [#7089](https://github.com/medic/cht-core/issues/7089): Store users' selected language in telemetry and feedback docs
- [#7260](https://github.com/medic/cht-core/issues/7260): Add more granularity to startup telemetry
- [#7409](https://github.com/medic/cht-core/issues/7409): Display tab's label in small screens

### Security fixes

None.

### Performance improvements

None.

### Bug fixes

- [#6213](https://github.com/medic/cht-core/issues/6213): Deleting primary contact from a place will retain that person as a contact when editing
- [#6338](https://github.com/medic/cht-core/issues/6338): Generate service worker at runtime
- [#6670](https://github.com/medic/cht-core/issues/6670): End time stamp records same value as start time stamp
- [#6802](https://github.com/medic/cht-core/issues/6802): Report verification does not do proper minification before saving
- [#6964](https://github.com/medic/cht-core/issues/6964): Select question with appearance "minimal" not picking all the languages set on the form
- [#6986](https://github.com/medic/cht-core/issues/6986): Changing admin password via webapp doesn't work
- [#7009](https://github.com/medic/cht-core/issues/7009): Pushing standard config with latest medic-conf fails with translation errors
- [#7021](https://github.com/medic/cht-core/issues/7021): Form with truthy expression will be displayed despite permissions
- [#7184](https://github.com/medic/cht-core/issues/7184): Partial load of contact add/edit forms on slow networks/devices
- [#7186](https://github.com/medic/cht-core/issues/7186): Changing an offline user's password during replication will block them in loading error loop
- [#7187](https://github.com/medic/cht-core/issues/7187): Login page redirect loop when password is changed
- [#7242](https://github.com/medic/cht-core/issues/7242): Race condition occurs when logging in as offline user with slow connection
- [#7262](https://github.com/medic/cht-core/issues/7262): Can't navigate to "new district" form when contact "person" edit is open.
- [#7280](https://github.com/medic/cht-core/issues/7280): Server Side Purge does not complete to the end
- [#7305](https://github.com/medic/cht-core/issues/7305): Blank modal when navigating to app instance with missing cookie
- [#7307](https://github.com/medic/cht-core/issues/7307): Login page is not cached correctly
- [#7320](https://github.com/medic/cht-core/issues/7320): Admin Upgrade Releases section empty when there are no betas
- [#7343](https://github.com/medic/cht-core/issues/7343): PWA on mobile logs out when browser is quit
- [#7346](https://github.com/medic/cht-core/issues/7346): Show error in targets when user is not associated with the configured place
- [#7353](https://github.com/medic/cht-core/issues/7353): Partner logos don't show on the about page
- [#7383](https://github.com/medic/cht-core/issues/7383): Webapp relative dates are not localized after Angular 12 upgrade
- [#7419](https://github.com/medic/cht-core/issues/7419): Stopping and resuming initial replication could start local purging
- [#7438](https://github.com/medic/cht-core/issues/7438): Users can view reports in contacts detail page despite lacking permissions
- [#7463](https://github.com/medic/cht-core/issues/7463): Incorrect place filter label when selecting only one place
- [#7485](https://github.com/medic/cht-core/issues/7485): Error while submitting form with certain db-doc repeat

### Technical improvements

- [#6420](https://github.com/medic/cht-core/issues/6420): Move to ESLint 7
- [#7061](https://github.com/medic/cht-core/issues/7061): CHT hosting improvements for App Developers
- [#7083](https://github.com/medic/cht-core/issues/7083): Upgrade webapp to latest Angular
- [#7165](https://github.com/medic/cht-core/issues/7165): Release Notes for v3.8 have link to private repository (broken link for external users)
- [#7349](https://github.com/medic/cht-core/issues/7349): Update dependencies for 3.14
- [#7361](https://github.com/medic/cht-core/issues/7361): Upgrade google-libphonenumber
- [#7379](https://github.com/medic/cht-core/issues/7379): Update COVID-19 RDT reference app
- [#7413](https://github.com/medic/cht-core/issues/7413): Remove non-code files from repo
- [#7445](https://github.com/medic/cht-core/issues/7445): Fix reference to `install.md` that does not exist any more
- [#7453](https://github.com/medic/cht-core/pull/7453): Extend `add-local-ip-certs-to-docker.sh` to install expired and self signed certs


