
---
title: "5.0.0 release notes"
linkTitle: "5.0.0"
sidebar:
  exclude: true
description: 
  Released 2025-11-02
---


{{< callout type="warning" >}}
To prepare for this release, read through our [Preparing to Upgrade documentation](/hosting/cht/migration/preparing-for-5/) before upgrading. This guide covers each of the breaking changes in detail and which deployment versions and which hosting architectures it applies to.
{{< /callout >}}

## Highlights

###  Reducing hosting total cost of ownership

Based on the knowledge of hosting dozens of CHT instances for over a decade, Medic found disk space [to be the main cost](https://docs.google.com/presentation/d/1rbpJi654VDvm-zJnqqCO7bDZ6anA77zTPZZh9GjQSS8/) in hosting.  CHT 5.0 uses [CouchDB Nouveau](https://neighbourhood.ie/blog/2024/09/23/couchdb-3-4-0-feature-nouveau) to enable disk savings in excess of 30% for large instances.

<!--
See source for chart:
https://docs.google.com/spreadsheets/d/1RBnfmH0QApvof3XXHLM2DHAtVuwYcKxvlgYvA57LCpM 
-->

{{< cards >}}
{{< card  image="../images/5_0_reduction2.png"  title="Up to 34% less disk used" subtitle="Chart showing disk use going from 63.2GB on CHT 4.11 down to 41.7GB on CHT 5.0">}}
{{< card  image="../images/5_0_disk_use_cost2.png"  method="resize" title="Cost Breakdown"  subtitle="Disk 78.5%, RAM 12.8%, CPU 8.7%" >}}
{{< /cards >}}

- [#9542](https://github.com/medic/cht-core/issues/9542): Reduce disk space with CouchDB Nouveau (TCO v1)

###  Faster synchronization which uses less server CPU

As national deployments scaled to over 5,000 users, the server CPU became overburdened. Upon close inspection, one of the bottlenecks was found to be CHWs requesting the list of documents needed for replication. The API handling this request has been massively improved in CHT 5.0. This means synchronizations take less time and, in turn, reduces server load. This reduction enables the same server to handle more requests with only a software upgrade, without any hardware changes.


####  Seconds to synchronize (lower is better)

<!--
See source for chart:
https://docs.google.com/spreadsheets/d/1RBnfmH0QApvof3XXHLM2DHAtVuwYcKxvlgYvA57LCpM 
-->
<img class="graph-key" src="../images/5_0_4color.png" style="width:20px; " title=" CHT 4.21"> CHT 4.21
<img class="graph-key" src="../images/5_0_5color.png" style="width:20px; " title=" CHT 5.0"> CHT 5.0
{{< cards cols="1">}}
{{< card  image="../images/5_0_faster_replication.png"   title="Up to 69% faster synchronization" subtitle="Chart showing users with 2.3k,  83k, 126.2k, 110.9k and 121.8k documents synchronizing against CHT 4.21 (blue) and CHT 5.0 (red)" >}}
{{< /cards >}}
<style>
.graph-key {
    display: inline-block;
}
.content :where(.graph-key):not(:where([class~=not-prose],[class~=not-prose] *)) {
  margin-top: 0;
  margin-bottom: 0;
}
</style>

- [#10262](https://github.com/medic/cht-core/issues/10262): Improve replication performance by moving docs_by_replication_key to nouveau

### Welcome prompt when starting a new instance for how to easily add data

Administrators logging into the CHT for the first time often complained of being confused if the app was working or not.  They would see an error like message saying `No message selected`.  CHT 5.0 leverages [existing training card](/building/training/training-cards-resources/) technology to help direct administrators on how to get started with adding contacts and configuring the app. This includes helpful tips:

> * Get started by [adding contacts and users](/building/contact-management/contact-and-users-1/)
> * To configure this instance for your specific workflows, see [the documentation](/building/)

{{< cards cols="3">}}
{{< card  image="../images/5_0_welcome_message.png" title="Welcome message shown to admins logging in for the first time" >}}
{{< /cards >}}

- [#10208](https://github.com/medic/cht-core/issues/10208): Instruct new deployments how to add data


## Known issues

Check the repository for the [latest known issues](https://github.com/medic/cht-core/issues?q=is%3Aissue+label%3A%22Affects%3A+5.0.0%22).

## Upgrade notes

### Breaking changes

As mentioned above, be sure to review the [upgrade documentation](/hosting/cht/migration/preparing-for-5/) before upgrading to appreciate what the following changes mean for your deployment:

- [#10183](https://github.com/medic/cht-core/issues/10183): Replication fails to filter out reports with needs_signoff set to false
- [#10429](https://github.com/medic/cht-core/issues/10429): Require Chrome 107 to support Angular uplift
- [#5906](https://github.com/medic/cht-core/issues/5906): Make declarative config mandatory
- [#8157](https://github.com/medic/cht-core/issues/8157): Deprecate enabling languages through generated docs
- [#9202](https://github.com/medic/cht-core/issues/9202): Increase ecmaversion linting for ddocs
- [#9542](https://github.com/medic/cht-core/issues/9542): Reduce disk space with CouchDB Nouveau (TCO v1)
- [#9954](https://github.com/medic/cht-core/issues/9954): Hide upgrade button in admin app for k8s deployments, while still allowing staging upgrades
- [#9983](https://github.com/medic/cht-core/issues/9983): Require `app_url` to be set when enabling `token_login`

### UI/UX changes

None.



## And more...

### Features

- [#10242](https://github.com/medic/cht-core/issues/10242): Display major version in admin upgrade UI so it's clear if its 4.x or 5.x (or X.x!) 
- [#10208](https://github.com/medic/cht-core/issues/10208): Instruct new deployments how to add data
- [#8340](https://github.com/medic/cht-core/issues/8340): Add impact metrics API
- [#9869](https://github.com/medic/cht-core/issues/9869): Add user storage usage to user-devices API
- [#9954](https://github.com/medic/cht-core/issues/9954): Hide upgrade button in admin app for k8s deployments, while still allowing staging upgrades

### Improvements

- [#10265](https://github.com/medic/cht-core/issues/10265): Add visual indicator of Nouveau indexing progress on API startup and Admin upgrade page
- [#8147](https://github.com/medic/cht-core/issues/8147): Training cards display loading error when user does not have contact
- [#8348](https://github.com/medic/cht-core/issues/8348): Adding error object to logger in sentinel/server.js
- [#9542](https://github.com/medic/cht-core/issues/9542): Reduce disk space with CouchDB Nouveau (TCO v1)
- [#9639](https://github.com/medic/cht-core/issues/9639): Remove pre 3.x db migrations and protect `migration-log` doc from edits
- [#9838](https://github.com/medic/cht-core/issues/9838): Refactor to use `cht-datasource` for reading contacts by id (both with and without lineage)

### Security fixes

None.

### Performance improvements

- [#10262](https://github.com/medic/cht-core/issues/10262): Investigate moving docs_by_replication_key to nouveau
- [#10322](https://github.com/medic/cht-core/issues/10322): Identify and remove all unused couchdb views
- [#10384](https://github.com/medic/cht-core/issues/10384): Using changes feed with _doc_ids filter causes performance issues.

### Bug fixes

- [#10183](https://github.com/medic/cht-core/issues/10183): Replication fails to filter out reports with needs_signoff set to false
- [#10319](https://github.com/medic/cht-core/issues/10319): npm build fails on lastest master
- [#8026](https://github.com/medic/cht-core/issues/8026): Admin app fails to update `branding` if existing document is malformed
- [#8027](https://github.com/medic/cht-core/issues/8027): Admin app fails to update `partners` if existing document is malformed
- [#9739](https://github.com/medic/cht-core/issues/9739): Can't deselect all reports after selecting all reports

### Technical improvements

- [#10023](https://github.com/medic/cht-core/issues/10023): Update `release-notes` script to include all commit co-authors in contributors list
- [#10079](https://github.com/medic/cht-core/issues/10079): Update `webapp` to read contacts with cht-datasource
- [#10186](https://github.com/medic/cht-core/issues/10186): Remove upgrade service from Helm charts
- [#10203](https://github.com/medic/cht-core/issues/10203): Africa's Talking documentation link provided is not working
- [#10206](https://github.com/medic/cht-core/issues/10206): Remove ancient/deprecated/3.x scripts
- [#10294](https://github.com/medic/cht-core/issues/10294): Branch name escape logic broken for semver
- [#10309](https://github.com/medic/cht-core/issues/10309): API is throwing error in latest master for SMS workflows
- [#10374](https://github.com/medic/cht-core/issues/10374): Flaky e2e test: Search Reports should navigate back to list view and return results when searching by case_id
- [#10375](https://github.com/medic/cht-core/issues/10375): Flaky e2e test: Bikram Sambat date display should display report list dates converted to bikram sambat
- [#10420](https://github.com/medic/cht-core/issues/10420): Test Cinque & Nouveau on large production data set
- [#10429](https://github.com/medic/cht-core/issues/10429): Require Chrome 107 to support Angular uplift
- [#5906](https://github.com/medic/cht-core/issues/5906): Make declarative config mandatory
- [#8157](https://github.com/medic/cht-core/issues/8157): Deprecate enabling languages through generated docs
- [#8220](https://github.com/medic/cht-core/issues/8220): Docker image build fails for branch names with reserved characters
- [#8657](https://github.com/medic/cht-core/issues/8657): Delete transition code in telemetry service
- [#8787](https://github.com/medic/cht-core/issues/8787): Remove indexedDB polyfill for Firefox
- [#9202](https://github.com/medic/cht-core/issues/9202): Increase ecmaversion linting for ddocs
- [#9499](https://github.com/medic/cht-core/issues/9499): UI Nav Work Image Replacement - Feature Messaging
- [#9720](https://github.com/medic/cht-core/issues/9720): Support stateless API docker container
- [#9921](https://github.com/medic/cht-core/issues/9921): Reports  search
- [#9992](https://github.com/medic/cht-core/issues/9992): Remove haproxy-healthcheck service from single-node CouchDb deployments



## Contributors

Thanks to all who committed changes for this release!

- [Joshua Kuestersteffen](https://github.com/jkuester)
- [Sugat Bajracharya](https://github.com/sugat009)
- [Mokhtar](https://github.com/m5r)
- [witash](https://github.com/witash)
- [Shashi sah](https://github.com/shashi-sah2003)
- [mrjones](https://github.com/mrjones-plip)
- [Lorena Rodriguez](https://github.com/lorerod)
- [Julio Arias](https://github.com/jarias)
- [Binod Adhikary](https://github.com/binokaryg)
- [Diana Barsan](https://github.com/dianabarsan)
- [Andra Blaj](https://github.com/andrablaj)
- [Najuna Brian](https://github.com/najuna-brian)
- [Hsing Fu](https://github.com/HsingFuC)
- [Ayush Singh](https://github.com/SinghCod3r)
- [Luis Serrano](https://github.com/billoserra)
- [Jennifer Ajoy](https://github.com/JenniAjoy)
- [1yuv](https://github.com/1yuv)
- [Kevin Segura](https://github.com/kevSeguraEdify)
- [Steven Fonseca](https://github.com/steven-fc-edify)
- [Jeferson GÃ³mez](https://github.com/jefgmz)

